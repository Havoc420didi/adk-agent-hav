---
description: å½“éœ€è¦é…ç½®å’Œä½¿ç”¨æµ‹è¯•æ–‡ä»¶ã€‚
globs: 
alwaysApply: false
---
# æµ‹è¯•æ–‡ä»¶é…ç½®ä¸ä½¿ç”¨è§„èŒƒ

## æµ‹è¯•æ–‡ä»¶ç›®å½•ç»“æ„

### ä¸»è¦æµ‹è¯•ç›®å½•
- `tests/havoc/` - ç”¨æˆ·è‡ªå®šä¹‰æµ‹è¯•å’Œå¿«é€ŸéªŒè¯
- `tests/integration/` - é›†æˆæµ‹è¯•
- `tests/unittests/` - å•å…ƒæµ‹è¯•

### æµ‹è¯•æ–‡ä»¶ç»„ç»‡æ–¹å¼

#### 1. è‡ªå®šä¹‰æµ‹è¯•ç›®å½• (`tests/havoc/`)
```
tests/havoc/
â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”œâ”€â”€ README.md             # æµ‹è¯•è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ test_setup.py         # ç¯å¢ƒè®¾ç½®æµ‹è¯•
â”œâ”€â”€ test_cleanup.py       # æ¸…ç†åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ quick_start.py        # å¿«é€Ÿå¯åŠ¨æµ‹è¯•
â””â”€â”€ run_tests.py          # æµ‹è¯•è¿è¡Œå™¨
```

#### 2. æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ
- åŠŸèƒ½æµ‹è¯•ï¼š`test_<åŠŸèƒ½åç§°>.py`
- è®¾ç½®æµ‹è¯•ï¼š`test_setup.py`
- æ¸…ç†æµ‹è¯•ï¼š`test_cleanup.py`
- å¿«é€Ÿæµ‹è¯•ï¼š`quick_start.py`
- æµ‹è¯•è¿è¡Œå™¨ï¼š`run_tests.py`

## æµ‹è¯•æ–‡ä»¶æ ‡å‡†æ¨¡æ¿

### åŸºç¡€æµ‹è¯•æ–‡ä»¶ç»“æ„
```python
#!/usr/bin/env python
"""
æµ‹è¯•è¯´æ˜ï¼š<æµ‹è¯•ç›®çš„>
åˆ›å»ºæ—¶é—´ï¼š<åˆ›å»ºæ—¥æœŸ>
"""

import sys
import os
from pathlib import Path

# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ° Python è·¯å¾„
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root))

# å¯¼å…¥å¿…è¦çš„æ¨¡å—
from src.google.adk import <ç›¸å…³æ¨¡å—>

def test_<åŠŸèƒ½åç§°>():
    """æµ‹è¯•<åŠŸèƒ½æè¿°>"""
    # æµ‹è¯•å®ç°
    pass

if __name__ == "__main__":
    # æ‰§è¡Œæµ‹è¯•
    test_<åŠŸèƒ½åç§°>()
    print("âœ… æµ‹è¯•å®Œæˆ")
```

### æµ‹è¯•è¿è¡Œå™¨æ¨¡æ¿
```python
#!/usr/bin/env python
"""
æµ‹è¯•è¿è¡Œå™¨ - æ‰§è¡Œæ‰€æœ‰æµ‹è¯•
"""

import sys
from pathlib import Path

def run_all_tests():
    """è¿è¡Œæ‰€æœ‰æµ‹è¯•"""
    test_files = [
        "test_setup.py",
        "test_cleanup.py", 
        "quick_start.py"
    ]
    
    current_dir = Path(__file__).parent
    
    for test_file in test_files:
        test_path = current_dir / test_file
        if test_path.exists():
            print(f"\nğŸ”§ è¿è¡Œæµ‹è¯•: {test_file}")
            # æ‰§è¡Œæµ‹è¯•æ–‡ä»¶
        else:
            print(f"âŒ æµ‹è¯•æ–‡ä»¶ä¸å­˜åœ¨: {test_file}")

if __name__ == "__main__":
    run_all_tests()
```

## æµ‹è¯•æœ€ä½³å®è·µ

### 1. æ–‡ä»¶ç»„ç»‡
- æ¯ä¸ªæµ‹è¯•ç›®å½•å¿…é¡»åŒ…å« `__init__.py` æ–‡ä»¶
- æä¾› `README.md` è¯´æ˜æµ‹è¯•ç”¨é€”å’Œä½¿ç”¨æ–¹æ³•
- åˆ›å»ºç»Ÿä¸€çš„æµ‹è¯•è¿è¡Œå™¨ (`run_tests.py`)

### 2. è·¯å¾„å¤„ç†
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨é¡¹ç›®æ ¹ç›®å½•
- åŠ¨æ€æ·»åŠ é¡¹ç›®è·¯å¾„åˆ° `sys.path`
- ä½¿ç”¨ `pathlib.Path` å¤„ç†æ–‡ä»¶è·¯å¾„

### 3. é”™è¯¯å¤„ç†
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’ŒæˆåŠŸæç¤º
- ä½¿ç”¨ emoji æ ‡è¯†æµ‹è¯•çŠ¶æ€ (âœ… âŒ ğŸ”§)
- æ•è·å¹¶å¤„ç†å¸¸è§å¼‚å¸¸

### 4. ç¯å¢ƒç®¡ç†
- æµ‹è¯•å‰éªŒè¯ç¯å¢ƒé…ç½®
- æä¾›æ¸…ç†åŠŸèƒ½æ¢å¤æµ‹è¯•ç¯å¢ƒ
- æ”¯æŒç‹¬ç«‹è¿è¡Œæ¯ä¸ªæµ‹è¯•æ–‡ä»¶

### 5. æ–‡æ¡£è¦æ±‚
- æ¯ä¸ªæµ‹è¯•æ–‡ä»¶åŒ…å«æ–‡æ¡£å­—ç¬¦ä¸²
- è¯´æ˜æµ‹è¯•ç›®çš„å’Œé¢„æœŸç»“æœ
- æä¾›ä½¿ç”¨ç¤ºä¾‹å’Œæ³¨æ„äº‹é¡¹

## ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæ–°æµ‹è¯•
1. åœ¨ç›¸åº”æµ‹è¯•ç›®å½•ä¸‹åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. éµå¾ªå‘½åè§„èŒƒå’Œæ¨¡æ¿ç»“æ„
3. æ›´æ–° `run_tests.py` åŒ…å«æ–°æµ‹è¯•
4. æ›´æ–° `README.md` æ–‡æ¡£

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œå•ä¸ªæµ‹è¯•
python tests/havoc/test_setup.py

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python tests/havoc/run_tests.py

# å¿«é€ŸéªŒè¯
python tests/havoc/quick_start.py
```

### æµ‹è¯•ç¯å¢ƒæ¸…ç†
```bash
# æ¸…ç†æµ‹è¯•ç¯å¢ƒ
python tests/havoc/test_cleanup.py
```
